% This is essentially a copy of file `test-attr-latex.tex',
% Copyright 2009, 2010 by Élie Roux 
% Copyright 2010, 2011 by Manuel Pégourié-Gonnard
% Copyright 2013 by Philipp Gesang 
\RequirePackage{luatexbase-attr}
\newluatexattribute\testattr
\setluatexattribute\testattr{1}
\ifnum\testattr=1 \else \ERROR \fi
\unsetluatexattribute\testattr
\ifnum\testattr<0 \else \ERROR \fi
\catcode64 11
\luatexbase@directlua{assert(luatexbase.attributes.testattr)}
\luatexbase@directlua{luatexbase.new_attribute('luatestattr')}
\luatexbase@directlua{assert(luatexbase.attributes.luatestattr)}
\begingroup
\escapechar64
\newluatexattribute\anotherattr
\endgroup
\setluatexattribute\anotherattr{1}
\luatexbase@directlua{assert(luatexbase.attributes.anotherattr)}
\stop
\endinput
%%
%% End of file `test-attr-latex.tex'.
